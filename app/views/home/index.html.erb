<p style="color: green"><%= notice %></p>

<h1>Report</h1>

<div id="report">
    <% if @lps.present? %>
        <table class="table table-striped">
            <thead>
                <tr>
                <th scope="col">LP</th>
                <th scope="col">Artist</th>
                <th scope="col">Number of songs</th>
                <th scope="col">Authors</th>
                </tr>
            </thead>
            <tbody>
                <% @lps.each do |lp| %>
                    <tr>
                        <td><%= lp.name %></td>
                        <td><%= lp.artist.name %></td>
                        <td><%= lp.songs.count %></td>
                        <td><%= lp.songs.flat_map { |song| song.authors.map(&:name) }.uniq.join(',') %></td>
                    </tr>
                <% end %>
            </tbody>
        </table>
    <% else %>
        No hay ning√∫n LP.
    <% end %>
</div>
